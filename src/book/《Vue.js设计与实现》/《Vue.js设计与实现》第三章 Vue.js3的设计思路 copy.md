## 第三章 Vue.js3的设计思路

## 1. 声明式的描述UI 

Vue3.js除了支持使用模板描述UI，还支持使用虚拟DOM描述UI。渲染函数就是使用虚拟DOM来描述UI的。

### 2. 渲染器

渲染器的作用就是将虚拟DOM渲染为真实DOM。

渲染器的实现思路，有三步：

- 创建元素：把vnode.tag作为标签名称来创建DOM元素。
- 为元素添加属性和事件：遍历vode.props对象，如果key以on字符开头，说明它是一个事件，将on截取后获取合法的事件名称，最后调用addEventListener绑定事件处理函数。
- 处理children：如果children是数组，则递归调用渲染函数；如果children是字符串，则创建文本节点，并添加到新创建的元素内。

## 3. 编译器

编译器的作用就是将模板编译成渲染函数。对于一个组件来说，渲染的内容最终是通过渲染函数产生的，渲染器再把渲染函数返回的虚拟DOM渲染为真实DOM。

## 4. Vue.js是多个模块的结合体

组件的实现依赖于渲染器，模板的编译依赖于编译器。

## 5. 总结

Vue.js是一个声明式的框架。Vue.js采用模板的方式来描述UI，同时也支持虚拟DOM描述UI。

渲染器就是将虚拟DOM渲染为真实DOM，工作原理是递归遍历虚拟DOM对象，并调用原生DOM API来完成真实DOM的创建。Vue.js的模板会被编译器编译为渲染函数。