前端团队除了开发日常业务需求外，还需要思考什么样的工具和平台可以辅助我们开发，提高我们的开发效率，完善我们的技能。现就最近这一段工作经验总结一些建议，仅做参考。

## 关键点

- 提效：开发提效，沟通提效等
- 质量保证：兼容性测试，代码单元测试，ts支持
- 性能优化
- 性能监控
- 文档维护：组件库文档，私仓维护
- code review
- 其他


## 业务流程

- 需求评审（可能评审多次）
- UI评审
- 技术方案评审
- 接口评审
- 开发
- 联调
- 用例评审
- 部署（部署到测试环境）
- 测试（自动化测试，QA测试）
- bug修复
- 任务流程变更
- 部署（部署到生产环境）
- 任务跟踪（线上观察）
- 任务总结（开发周期，bug数量，疑难问题等）

## 基于业务的前端建设

针对我们整体的开发流程，提出一些能够通过技术手段来提高效率保障质量的点。

### 1. 需求评审
主要考验开发同学对需求的敏感度，以及能准确评估开发技术的难点，和需求的合理性。这个只能靠自己积累经验了。


### 2. UI评审
同UI同学协作建立组件库和设计规范，包括基础组件库和业务组件库。UI同学在设计初可参考组件库平台的UI样式和逻辑。UI评审时应该遵循已有组件库中相同组件的设计和逻辑，尽量复用。

#### 2.1 组件库平台

- 基础组件库
- 业务组件库
- 平台介绍

组件代码以包的形式发到公司私有仓库维护。对外输出组件平台，包括组件介绍和代码预览。



### 3. 技术方案评审
对于复杂和难度较高的任务可以组织技术方案评审，规避开发风险，也可以让其他组员熟悉相关需求。参与人员可以是经验较丰富，或是对该需求较了解的开发人员。

#### 3.1 文档平台

能够记录文档的平台即可。比如wiki，语雀等。



### 4. 接口评审
项目分为两种：全栈项目和纯前端项目。一般接口评审是在前后端同步开发的项目中使用。

#### 4.1 接口管理平台

- 接口定义
- 接口mock
- 与测试/生产环境数据互通
- 与本地数据库数据互通（全栈开发，将本地数据库字段导入到平台）
- 接口比对


### 5. 开发
项目代码逻辑清楚，文件组织合理等。
#### 5.1 脚手架

- 全栈项目脚手架，目前使用nuxt ssr框架。基于华铁官网项目来做。
- 前端项目脚手架。基于qt-vite项目来做。

脚手架项目会引入最新的技术栈，支持TS，引入公司内部通用包，eslint, 代码prettier等通用功能。

#### 5.2 包管理

- 组件
- app底层方法封装（暂未用）
- 插件

#### 5.3 git提交

添加hooks, 在代码提交的时候做一些判断：
- 提交的msg是否规范
- 是否改动到通用文件，需要有通知
- 提交的代码格式化
- 提交的代码错误校验

#### 5.4 code review平台

- 与gitlab打通，合并提交记录
- 支持评论
- 与部署平台打通



### 6. 联调
接口管理平台提供接口比对功能，也就是平台上数据与测试环境数据的比对。



### 7. 用例评审
借助测试平台完成，可填入测试用例，挑选部分作为冒烟用例，用于开发提测前自测。需要冒烟用例通过率达到99%以上，任务才可提交测试。

#### 7.1 测试平台

- 自动化测试-UI测试-使用无头浏览器来完成。
- 自动化测试-功能测试-开发补充测试用例，跑测试用例。
- 用例管理-测试用例/冒烟用例



### 8. 部署

#### 8.1 部署平台
代码自测完成后，提交到测试环境。可通过jekins来部署。

- 部署前的checklist
- 部署时文件大小分析
- 部署后更新任务状态



### 9. 测试（自动化测试，QA测试）
测试同学完成。



### 10. bug修复



### 11. 任务流程变更

#### 11.1 项目管理平台

- 任务排期，如果遇到排期变更要发消息通知到人
- 任务完整状态的流转-新建-设计-开发-联调-测试-完成
- 与测试平台和部署平台打通，实时更新任务状态
- 任务状态提醒



### 12. 部署（部署到生产环境）
借助部署平台完成。



### 13. 任务跟踪（线上观察）

#### 13.1 错误监控平台

可以使用sentry搭建。任务上线后开发值班查看错误情况。

#### 13.2 性能监控平台

- 性能指标查看
- 性能优化建议



### 14. 项目总结

可以通过项目管理平台来完成，查看整个需求的总体信息，包括需求开发时间，bug数量等信息。

#### 14.1 可视化搭建平台

基于业务组件库做页面的可视化搭建，比如表单页面，table页面等。通过可视化的配置生成数据项，再根据配置项生成最终展示的页面。

#### 14.2 埋点统计平台

- 页面通用埋点
- 业务实际需求埋点

## 基于团队的前端建设
### 1. 规范化

- 代码检测，eslint
- 格式化：prettier
- 提交规范：commitlint
- 分支规范：依赖项目管理平台
- 开发规范：暂不统一
- 接口规范：有统一的格式，统一的返回值

### 2. 技术分享

- 业务相关
- 技术相关


